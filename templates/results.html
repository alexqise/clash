{% extends "base.html" %} {% block title %}Quiz Results - Clash Royale Counter
Guide{% endblock %} {% block content %}
<div class="row">
  <div class="col-12">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="{{ url_for('home') }}">Home</a>
        </li>
        <li class="breadcrumb-item active">Quiz Results</li>
      </ol>
    </nav>

    <div class="card mb-4 shadow">
      <div class="card-header bg-primary text-white">
        <h2 class="my-2">Your Quiz Results</h2>
      </div>
      <div class="card-body text-center">
        <div class="mb-4">
          <div class="display-1 mb-3">{{ score.percentage }}%</div>
          <h3>
            You answered {{ score.correct }} out of {{ score.total }} questions
            correctly!
          </h3>

          {% if score.percentage >= 80 %}
          <div class="alert alert-success mt-4">
            <h4 class="alert-heading">Excellent work!</h4>
            <p>
              You have a very strong understanding of how to counter these win
              conditions. You're ready for the Clash Royale arena!
            </p>
          </div>
          <img
            src="https://cdn.royaleapi.com/static/img/emotes/goblin-trophy.png"
            alt="Trophy"
            class="img-fluid my-3"
            style="max-width: 120px"
          />

          {% elif score.percentage >= 60 %}
          <div class="alert alert-info mt-4">
            <h4 class="alert-heading">Good job!</h4>
            <p>
              You have a solid understanding of these counters, but there's
              still room for improvement.
            </p>
          </div>
          <img
            src="https://cdn.royaleapi.com/static/img/emotes/thumbs-up.png"
            alt="Thumbs Up"
            class="img-fluid my-3"
            style="max-width: 120px"
          />

          {% else %}
          <div class="alert alert-warning mt-4">
            <h4 class="alert-heading">Keep practicing!</h4>
            <p>
              You might want to review the lessons again to reinforce your
              understanding of these counters.
            </p>
          </div>
          <img
            src="https://cdn.royaleapi.com/static/img/emotes/hog-thinking.png"
            alt="Thinking"
            class="img-fluid my-3"
            style="max-width: 120px"
          />
          {% endif %}
        </div>

        <div
          class="progress mb-4"
          style="height: 30px"
        >
          <div
            class="progress-bar {% if score.percentage >= 80 %}bg-success{% elif score.percentage >= 60 %}bg-info{% else %}bg-warning{% endif %}"
            role="progressbar"
            style="width: {{ score.percentage }}%;"
            aria-valuenow="{{ score.percentage }}"
            aria-valuemin="0"
            aria-valuemax="100"
          >
            {{ score.percentage }}%
          </div>
        </div>

        <div class="d-flex justify-content-center mt-4">
          <a
            href="{{ url_for('learn', lesson_id=1) }}"
            class="btn btn-outline-primary me-3"
          >
            <i class="bi bi-book"></i> Review Lessons
          </a>
          <a
            href="{{ url_for('quiz', question_id=1) }}"
            class="btn btn-outline-success me-3"
          >
            <i class="bi bi-arrow-repeat"></i> Retake Quiz
          </a>
          <a
            href="{{ url_for('home') }}"
            class="btn btn-primary"
          >
            <i class="bi bi-house"></i> Back to Home
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block scripts %}
<script>
  // Record quiz completion
  $(document).ready(function() {
      const resultData = {
          completed_at: new Date().toISOString(),
          score: {{ score.percentage }},
          correct_answers: {{ score.correct }},
          total_questions: {{ score.total }}
      };
      console.log("Quiz completed:", resultData);
  });
</script>
{% endblock %}
